---
category: manual
section: documentation
subsection: manual
title: Git - git-cvsserver Documentation
docname: git-cvsserver
lang: pt_BR
aliases:
- "/docs/git-cvsserver/pt_BR/index.html"

---
<div class="sect1">
<h2 id="_nome"><a class="anchor" href="#_nome"></a>NOME</h2>
<div class="sectionbody">
<div class="paragraph">
<p>git-cvsserver - Um emulador CVS para o Git</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_resumo"><a class="anchor" href="#_resumo"></a>RESUMO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>SSH:</p>
</div>
<div class="verseblock">
<pre class="content">export CVS_SERVER="git cvsserver"
<em>cvs</em> -d :ext:user@server/path/repo.git co &lt;HEAD_name&gt;</pre>
</div>
<div class="paragraph">
<p>pserver (/etc/inetd.conf):</p>
</div>
<div class="verseblock">
<pre class="content">cvspserver stream tcp nowait nobody /usr/bin/git-cvsserver git-cvsserver pserver</pre>
</div>
<div class="paragraph">
<p>Uso:</p>
</div>
<div class="verseblock">
<pre class="content"><em>git-cvsserver</em> [&lt;opções&gt;] [pserver|server] [&lt;diretório&gt; &#8230;&#8203;]</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_descrição"><a class="anchor" href="#_descrição"></a>DESCRIÇÃO</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Esta aplicação é uma camada de emulação do CVS para o Git.</p>
</div>
<div class="paragraph">
<p>É altamente funcional. No entanto, nem todos os métodos são implementados e para os métodos já implementados, nem todos as chaves estão implementadas.</p>
</div>
<div class="paragraph">
<p>O teste foi realizado utilizando o cliente CLI CVS e o plug-in Eclipse CVS. A maioria das funcionalidades funciona bem com esses dois clientes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_opções"><a class="anchor" href="#_opções"></a>OPÇÕES</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All these options obviously only make sense if enforced by the server side. They have been implemented to resemble the <a href='{{< relurl "docs/git-daemon/pt_BR" >}}'>git-daemon[1]</a> options as closely as possible.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-cvsserver---base-pathltcaminhogt"> <a class="anchor" href="#git-cvsserver---base-pathltcaminhogt"></a>--base-path &lt;caminho&gt; </dt>
<dd>
<p>Acrescente o <code>caminho</code> para o CVSROOT solicitado</p>
</dd>
<dt class="hdlist1" id="git-cvsserver---strict-paths"> <a class="anchor" href="#git-cvsserver---strict-paths"></a>--strict-paths </dt>
<dd>
<p>Não permitir a recorrência em subdiretórios</p>
</dd>
<dt class="hdlist1" id="git-cvsserver---export-all"> <a class="anchor" href="#git-cvsserver---export-all"></a>--export-all </dt>
<dd>
<p>Não verifique por <code>gitcvs.enabled</code> na configuração. Caso queira usar esta opção você também precisa especificar uma lista de diretórios permitidos (veja abaixo).</p>
</dd>
<dt class="hdlist1" id="git-cvsserver--V"> <a class="anchor" href="#git-cvsserver--V"></a>-V </dt>
<dt class="hdlist1" id="git-cvsserver---version"> <a class="anchor" href="#git-cvsserver---version"></a>--version </dt>
<dd>
<p>Imprima a informação da versão e encerre</p>
</dd>
<dt class="hdlist1" id="git-cvsserver--h"> <a class="anchor" href="#git-cvsserver--h"></a>-h </dt>
<dt class="hdlist1" id="git-cvsserver--H"> <a class="anchor" href="#git-cvsserver--H"></a>-H </dt>
<dt class="hdlist1" id="git-cvsserver---help"> <a class="anchor" href="#git-cvsserver---help"></a>--help </dt>
<dd>
<p>Imprima a informação de uso e encerre</p>
</dd>
<dt class="hdlist1" id="git-cvsserver-ltdiretriogt"> <a class="anchor" href="#git-cvsserver-ltdiretriogt"></a>&lt;diretório&gt; </dt>
<dd>
<p>Os argumentos restantes mostram uma lista de diretórios. Caso nenhum diretório seja informado, todos serão permitidos. Os repositórios dentro destes diretórios ainda requerem a opção de configuração <code>gitcvs.enabled</code>, a menos que , a opção <code>--export-all</code> seja usada.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_limitações"><a class="anchor" href="#_limitações"></a>LIMITAÇÕES</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Os clientes CVS não podem marcar, ramificar ou executar mesclagens do Git.</p>
</div>
<div class="paragraph">
<p>O comando <code>git-cvsserver</code> mapeia as ramificações do Git para os módulos CVS. Isso é muito diferente do que a maioria dos usuários do CVS esperariam, uma vez que nos módulos do CVS geralmente representam um ou mais diretórios.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_instalação"><a class="anchor" href="#_instalação"></a>INSTALAÇÃO</h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Caso queira oferecer acesso ao CVS via <code>pserver</code>, adicione uma linha no <code>/etc/inetd.conf</code>, exemplo</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   cvspserver stream tcp nowait nobody git-cvsserver pserver</pre>
</div>
</div>
<div class="paragraph">
<p>Alguns servidores <code>inetd</code> permite especificar o nome do executável independentemente do valor de <code>argv[0]</code> (ou seja, o nome com o qual o programa assume que foi executado). Nesse caso, a linha correta no <code>/etc/inetd.conf</code> se parece com</p>
</div>
<div class="listingblock">
<div class="content">
<pre>   cvspserver stream tcp nowait nobody /usr/bin/git-cvsserver git-cvsserver pserver</pre>
</div>
</div>
<div class="paragraph">
<p>Por predefinição, o <code>pserver</code> oferece apenas o acesso anônimo. Para fazer o commit, você precisará criar contas <code>pserver</code>, basta adicionar uma configuração <code>gitcvs.authdb</code> no arquivo de configuração dos repositórios nos quais você deseja que o <code>cvsserver</code> tenha permissão de gravação, por exemplo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>   [gitcvs]
	authdb = /etc/cvsserver/passwd</pre>
</div>
</div>
<div class="paragraph">
<p>O formato destes arquivos é o nome do usuário seguido pela senha criptografada, por exemplo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>   myuser:sqkNi8zPf01HI
   myuser:$1$9K7FzU28$VfF6EoPYCJEYcVQwATgOP/
   myuser:$5$.NqmNH1vwfzGpV8B$znZIcumu1tNLATgV2l6e1/mY8RzhUDHMOaVOeL1cxV3</pre>
</div>
</div>
<div class="paragraph">
<p>Você pode usar o recurso <code>htpasswd</code> que acompanha o Apache para criar estes arquivos, porém, apenas com a opção -d (ou -B caso haja suporte no seu sistema).</p>
</div>
<div class="paragraph">
<p>De preferência use o utilitário específico do sistema responsável pelo gerenciamento da criação do hash da senha da sua plataforma (por exemplo, mkpasswd no Linux, encrypt no OpenBSD ou pwhash no NetBSD) e cole-o no local apropriado.</p>
</div>
<div class="paragraph">
<p>Em seguida, forneça sua senha pelo método <code>pserver</code>, por exemplo:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>   cvs -d:pserver:someuser:somepassword@server:/path/repo.git co &lt;nome_do_HEAD&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Nenhuma configuração especial é necessária para o acesso SSH, além de ter as ferramentas Git no PATH. Caso tenha clientes que não aceitam a variável de ambiente <code>CVS_SERVER</code>, é possível renomear o <code>git-cvsserver</code> para <code>cvs</code>.</p>
</div>
<div class="paragraph">
<p>Observação: As versões mais recentes do CVS (&gt;= 1.12.11) também é compatível a especificação do <code>CVS_SERVER</code> diretamente no <code>CVSROOT</code>, como</p>
</div>
<div class="listingblock">
<div class="content">
<pre>   cvs -d ":ext;CVS_SERVER=git cvsserver:user@server/path/repo.git" co &lt;HEAD_name&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>This has the advantage that it will be saved in your <em>CVS/Root</em> files and you don&#8217;t need to worry about always setting the correct environment variable. SSH users restricted to <em>git-shell</em> don&#8217;t need to override the default with CVS_SERVER (and shouldn&#8217;t) as <em>git-shell</em> understands <code>cvs</code> to mean <em>git-cvsserver</em> and pretends that the other end runs the real <em>cvs</em> better.</p>
</div>
</div>
</div>
</li>
<li>
<p>Para cada repositório que você queira acessar no CVS, é necessário editar a configuração no repositório e adicionar a seção a seguir.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   [gitcvs]
        enabled=1
        # optional for debugging
	logFile=/caminho/para/o/logfile</pre>
</div>
</div>
<div class="paragraph">
<p>Observação: você precisa garantir que cada usuário que invoque o comando <code>git-cvsserver</code> tenha acesso de gravação ao arquivo de registro log e ao banco de dados (consulte <a href="#dbbackend">Database Backend</a>. Caso queira oferecer acesso de gravação via SSH, é óbvio que os usuários também precisam ter acesso de gravação ao próprio repositório Git.</p>
</div>
<div class="paragraph">
<p>Você também precisa garantir que cada repositório seja "simples" (sem um arquivo do índice do Git) para que o comando <code>cvs commit</code> funcione. Consulte <a href='{{< relurl "docs/gitcvs-migration/pt_BR" >}}'>gitcvs-migration[7]</a>.</p>
</div>
<div id="configaccessmethod" class="paragraph">
<p>Todas as variáveis de configuração também podem ser substituídas por um método específico de acesso. Os nomes para os métodos válidos são <code>ext</code> (para acesso SSH) e <code>pserver</code>. O exemplo da configuração a seguir desabilitaria o acesso ao <code>pserver</code> enquanto ainda permita o acesso pelo SSH.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>   [gitcvs]
        enabled=0

   [gitcvs "ext"]
        enabled=1</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>If you didn&#8217;t specify the CVSROOT/CVS_SERVER directly in the checkout command, automatically saving it in your <em>CVS/Root</em> files, then you need to set them explicitly in your environment. CVSROOT should be set as per normal, but the directory should point at the appropriate Git repo. As above, for SSH clients <em>not</em> restricted to <em>git-shell</em>, CVS_SERVER should be set to <em>git-cvsserver</em>.</p>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre>   export CVSROOT=:ext:user@server:/var/git/project.git
   export CVS_SERVER="git cvsserver"</pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>For SSH clients that will make commits, make sure their server-side .ssh/environment files (or .bashrc, etc., according to their specific shell) export appropriate values for GIT_AUTHOR_NAME, GIT_AUTHOR_EMAIL, GIT_COMMITTER_NAME, and GIT_COMMITTER_EMAIL. For SSH clients whose login shell is bash, .bashrc may be a reasonable alternative.</p>
</li>
<li>
<p>Clients should now be able to check out the project. Use the CVS <em>module</em> name to indicate what Git <em>head</em> you want to check out. This also sets the name of your newly checked-out directory, unless you tell it otherwise with <code>-d &lt;dir-name&gt;</code>. For example, this checks out <em>master</em> branch to the <code>project-master</code> directory:</p>
<div class="listingblock">
<div class="content">
<pre>   cvs co -d project-master master</pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dbbackend"><a class="anchor" href="#dbbackend"></a>ESTRUTURA DO BANCO DE DADOS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>O comando <code>git-cvsserver</code> utiliza um banco de dados por cabeçalho Git (ou seja, módulo CVS) para armazenar as informações sobre o repositório, para manter números de revisão do CVS consistentes. O banco de dados precisa ser atualizado após cada commit.</p>
</div>
<div class="paragraph">
<p>Caso o commit seja feito diretamente utilizando o <code>git</code> (em vez de usar o <code>git-cvsserver</code>), a atualização precisará ocorrer no próximo acesso ao repositório pelo <code>git-cvsserver</code>, independentemente do método de acesso e da operação solicitada.</p>
</div>
<div class="paragraph">
<p>Isso significa que, mesmo que você ofereça apenas o acesso de leitura (utilizando o método <code>pserver</code> por exemplo), o comando <code>git-cvsserver</code> deve ter acesso de gravação ao banco de dados para funcionar de maneira correta (caso contrário, você precisa garantir que o banco de dados esteja atualizado a qualquer momento quando o <code>git-cvsserver</code> for executado).</p>
</div>
<div class="paragraph">
<p>By default it uses SQLite databases in the Git directory, named <code>gitcvs.&lt;module-name&gt;.sqlite</code>. Note that the SQLite backend creates temporary files in the same directory as the database file on write so it might not be enough to grant the users using <em>git-cvsserver</em> write access to the database file without granting them write access to the directory, too.</p>
</div>
<div class="paragraph">
<p>The database cannot be reliably regenerated in a consistent form after the branch it is tracking has changed. Example: For merged branches, <em>git-cvsserver</em> only tracks one branch of development, and after a <em>git merge</em> an incrementally updated database may track a different branch than a database regenerated from scratch, causing inconsistent CVS revision numbers. <code>git-cvsserver</code> has no way of knowing which branch it would have picked if it had been run incrementally pre-merge. So if you have to fully or partially (from old backup) regenerate the database, you should be suspicious of pre-existing CVS sandboxes.</p>
</div>
<div class="paragraph">
<p>Você pode configurar a estrutura do banco de dados com as seguintes variáveis de configuração:</p>
</div>
<div class="sect2">
<h3 id="_configurando_a_estrutura_do_banco_de_dados"><a class="anchor" href="#_configurando_a_estrutura_do_banco_de_dados"></a>Configurando a estrutura do banco de dados</h3>
<div class="paragraph">
<p>O <em>git-cvsserver</em> utiliza o módulo Perl DBI. Leia também a sua documentação caso mude essas variáveis, especialmente as relacionadas com <code>DBI-&gt;connect()</code>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-cvsserver-gitcvsdbName"> <a class="anchor" href="#git-cvsserver-gitcvsdbName"></a>gitcvs.dbName </dt>
<dd>
<p>Database name. The exact meaning depends on the selected database driver, for SQLite this is a filename. Supports variable substitution (see below). May not contain semicolons (<code>;</code>). Default: <em>%Ggitcvs.%m.sqlite</em></p>
</dd>
<dt class="hdlist1" id="git-cvsserver-gitcvsdbDriver"> <a class="anchor" href="#git-cvsserver-gitcvsdbDriver"></a>gitcvs.dbDriver </dt>
<dd>
<p>Used DBI driver. You can specify any available driver for this here, but it might not work. cvsserver is tested with <em>DBD::SQLite</em>, reported to work with <em>DBD::Pg</em>, and reported <strong>not</strong> to work with <em>DBD::mysql</em>. Please regard this as an experimental feature. May not contain colons (<code>:</code>). Default: <em>SQLite</em></p>
</dd>
<dt class="hdlist1" id="git-cvsserver-gitcvsdbuser"> <a class="anchor" href="#git-cvsserver-gitcvsdbuser"></a>gitcvs.dbuser </dt>
<dd>
<p>O banco de dados do usuário. Útil apenas caso o <code>dbDriver</code> esteja configurando, pois o banco de dados SQLite não trabalha com usuários. É compatível com a reposição da variável (veja abaixo).</p>
</dd>
<dt class="hdlist1" id="git-cvsserver-gitcvsdbPass"> <a class="anchor" href="#git-cvsserver-gitcvsdbPass"></a>gitcvs.dbPass </dt>
<dd>
<p>Database password. Only useful if setting <code>dbDriver</code>, since SQLite has no concept of database passwords.</p>
</dd>
<dt class="hdlist1" id="git-cvsserver-gitcvsdbTableNamePrefix"> <a class="anchor" href="#git-cvsserver-gitcvsdbTableNamePrefix"></a>gitcvs.dbTableNamePrefix </dt>
<dd>
<p>Database table name prefix. Supports variable substitution (see below). Any non-alphabetic characters will be replaced with underscores.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Todas as variáveis também podem ser definidas através do método de acesso, consulte <a href="#configaccessmethod">above</a>.</p>
</div>
<div class="sect3">
<h4 id="_substituição_de_variável"><a class="anchor" href="#_substituição_de_variável"></a>Substituição de variável</h4>
<div class="paragraph">
<p>Você pode utilizar as seguintes variáveis em <code>dbDriver</code> e <code>dbUser</code>:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-cvsserver-G"> <a class="anchor" href="#git-cvsserver-G"></a>%G </dt>
<dd>
<p>Nome do diretório Git</p>
</dd>
<dt class="hdlist1" id="git-cvsserver-g"> <a class="anchor" href="#git-cvsserver-g"></a>%g </dt>
<dd>
<p>O nome do diretório Git onde todos os caracteres exceto os alfanuméricos, <code>.</code> e <code>-</code>, são substituídos por <code>_</code> (isso deve facilitar o uso do nome do diretório em um nome de arquivo, se assim for desejado)</p>
</dd>
<dt class="hdlist1" id="git-cvsserver-m"> <a class="anchor" href="#git-cvsserver-m"></a>%m </dt>
<dd>
<p>CVS module/Git head name</p>
</dd>
<dt class="hdlist1" id="git-cvsserver-a"> <a class="anchor" href="#git-cvsserver-a"></a>%a </dt>
<dd>
<p>método de acesso (um "ext" ou "pserver")</p>
</dd>
<dt class="hdlist1" id="git-cvsserver-u"> <a class="anchor" href="#git-cvsserver-u"></a>%u </dt>
<dd>
<p>Name of the user running <em>git-cvsserver</em>. If no name can be determined, the numeric uid is used.</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_variáveis_do_ambiente"><a class="anchor" href="#_variáveis_do_ambiente"></a>VARIÁVEIS DO AMBIENTE</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Essas variáveis evitam a necessidade do uso de opções na linha de comando em algumas circunstâncias, permitindo um uso restrito e mais fácil através do <code>git-shell</code>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1" id="git-cvsserver-GITCVSSERVERBASEPATH"> <a class="anchor" href="#git-cvsserver-GITCVSSERVERBASEPATH"></a>GIT_CVSSERVER_BASE_PATH </dt>
<dd>
<p>Esta variável substitui o argumento para <code>--base-path</code>.</p>
</dd>
<dt class="hdlist1" id="git-cvsserver-GITCVSSERVERROOT"> <a class="anchor" href="#git-cvsserver-GITCVSSERVERROOT"></a>GIT_CVSSERVER_ROOT </dt>
<dd>
<p>Esta variável define um único diretório, substituindo a lista de argumentos <code>&lt;diretório&gt;...</code>. O repositório ainda requer a opção de configuração <code>gitcvs.enabled</code>, a menos que, a opção <code>--export-all</code> seja usada.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Quando essas variáveis do ambiente são definidas, os argumentos correspondentes da linha de comando não podem ser utilizados.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_observações_sobre_o_cliente_eclipse_cvs"><a class="anchor" href="#_observações_sobre_o_cliente_eclipse_cvs"></a>OBSERVAÇÕES SOBRE O CLIENTE ECLIPSE CVS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Para conseguir uma averiguação com o cliente Eclipse CVS:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Escolha "Criar um novo projeto &#8594; Do check-ou CVS"</p>
</li>
<li>
<p>Crie um novo local. Veja as anotações abaixo para obter mais detalhes sobre como escolher o protocolo correto.</p>
</li>
<li>
<p>Navegue pelos <em>módulos</em> disponíveis. Ele fornecerá uma lista dos <code>heads</code> no repositório. Você não poderá navegar na árvore a partir daí. Apenas os <code>heads</code>.</p>
</li>
<li>
<p>Escolha <code>HEAD</code> quando perguntar qual o ramo/tag deve ser verificado. Desmarque o "assistente de inicialização do commit" para evitar fazer o commit no arquivo .project.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Protocol notes: If you are using anonymous access via pserver, just select that. Those using SSH access should choose the <em>ext</em> protocol, and configure <em>ext</em> access on the Preferences&#8594;Team&#8594;CVS&#8594;ExtConnection pane. Set CVS_SERVER to "<code>git cvsserver</code>". Note that password support is not good when using <em>ext</em>, you will definitely want to have SSH keys setup.</p>
</div>
<div class="paragraph">
<p>Como alternativa, você pode apenas usar o protocolo não padrão <code>extssh</code> que o Eclipse oferece. Neste caso o <code>CVS_SERVER</code> é ignorado e você terá que substituir o utilitário cvs no servidor por <code>git-cvsserver</code> ou manipular o seu <code>.bashrc</code> para que a chamada <em>cvs</em> efetivamente chame o <code>git-cvsserver</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_clientes_conhecidos_que_funcionam"><a class="anchor" href="#_clientes_conhecidos_que_funcionam"></a>CLIENTES CONHECIDOS QUE FUNCIONAM</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>CVS 1.12.9 no Debian</p>
</li>
<li>
<p>CVS 1.11.17 no MacOSX (do pacote Fink)</p>
</li>
<li>
<p>Eclipse 3.0, 3.1.2 no MacOSX (veja notas do Cliente Eclipse CVS)</p>
</li>
<li>
<p>TortoiseCVS</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_operações_compatíveis"><a class="anchor" href="#_operações_compatíveis"></a>OPERAÇÕES COMPATÍVEIS</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Todas as operações necessárias para o uso normal são compatíveis, incluindo "checkout", "diff", "status", "update", "log", "add", "remove" e "commit".</p>
</div>
<div class="paragraph">
<p>Most CVS command arguments that read CVS tags or revision numbers (typically -r) work, and also support any git refspec (tag, branch, commit ID, etc). However, CVS revision numbers for non-default branches are not well emulated, and cvs log does not show tags or branches at all. (Non-main-branch CVS revision numbers superficially resemble CVS revision numbers, but they actually encode a git commit ID directly, rather than represent the number of revisions since the branch point.)</p>
</div>
<div class="paragraph">
<p>Note that there are two ways to checkout a particular branch. As described elsewhere on this page, the "module" parameter of cvs checkout is interpreted as a branch name, and it becomes the main branch. It remains the main branch for a given sandbox even if you temporarily make another branch sticky with cvs update -r. Alternatively, the -r argument can indicate some other branch to actually checkout, even though the module is still the "main" branch. Tradeoffs (as currently implemented): Each new "module" creates a new database on disk with a history for the given module, and after the database is created, operations against that main branch are fast. Or alternatively, -r doesn&#8217;t take any extra disk space, but may be significantly slower for many operations, like cvs update.</p>
</div>
<div class="paragraph">
<p>If you want to refer to a git refspec that has characters that are not allowed by CVS, you have two options. First, it may just work to supply the git refspec directly to the appropriate CVS -r argument; some CVS clients don&#8217;t seem to do much sanity checking of the argument. Second, if that fails, you can use a special character escape mechanism that only uses characters that are valid in CVS tags. A sequence of 4 or 5 characters of the form (underscore (<code>"_"</code>), dash (<code>"-"</code>), one or two characters, and dash (<code>"-"</code>)) can encode various characters based on the one or two letters: <code>"s"</code> for slash (<code>"/"</code>), <code>"p"</code> for period (<code>"."</code>), <code>"u"</code> for underscore (<code>"_"</code>), or two hexadecimal digits for any byte value at all (typically an ASCII number, or perhaps a part of a UTF-8 encoded character).</p>
</div>
<div class="paragraph">
<p>Legacy monitoring operations are not supported (edit, watch and related). Exports and tagging (tags and branches) are not supported at this stage.</p>
</div>
<div class="sect2">
<h3 id="_conversões_de_termino_de_linha_crlf"><a class="anchor" href="#_conversões_de_termino_de_linha_crlf"></a>Conversões de termino de linha CRLF</h3>
<div class="paragraph">
<p>Por predefinição o servidor deixa o modo <code>-k</code> em branco para todos os arquivos, o que faz com que o cliente CVS os trate como arquivos de texto, sujeitos à conversão da quebra de linha em algumas plataformas.</p>
</div>
<div class="paragraph">
<p>You can make the server use the end-of-line conversion attributes to set the <code>-k</code> modes for files by setting the <code>gitcvs.usecrlfattr</code> config variable. See <a href='{{< relurl "docs/gitattributes/pt_BR" >}}'>gitattributes[5]</a> for more information about end-of-line conversion.</p>
</div>
<div class="paragraph">
<p>Alternatively, if <code>gitcvs.usecrlfattr</code> config is not enabled or the attributes do not allow automatic detection for a filename, then the server uses the <code>gitcvs.allBinary</code> config for the default setting. If <code>gitcvs.allBinary</code> is set, then file not otherwise specified will default to <em>-kb</em> mode. Otherwise the <code>-k</code> mode is left blank. But if <code>gitcvs.allBinary</code> is set to "guess", then the correct <code>-k</code> mode will be guessed based on the contents of the file.</p>
</div>
<div class="paragraph">
<p>Para uma melhor compatibilidade com o <em>cvs</em>, provavelmente é melhor substituir os valores predefinidos configurando <code>gitcvs.usecrlfattr</code> como <em>true</em> e <code>gitcvs.allBinary</code> para "guess".</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_dependências"><a class="anchor" href="#_dependências"></a>DEPENDÊNCIAS</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>git-cvsserver</em> é dependente do DBD::SQLite.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git"><a class="anchor" href="#_git"></a>GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Parte do conjunto <a href='{{< relurl "docs/git/pt_BR" >}}'>git[1]</a></p>
</div>
</div>
</div>